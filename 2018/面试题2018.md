# 积累的面试题

1. 原型链
  > __proto__, prototype, constructor, 到查找对象上的属性时是链式查找，最终到Null

2. 闭包
  > 作用域 => 闭包 => 闭包使用 => 垃圾回收

3. 继承
  > 原型继承，借用构造函数继承，组合继承，ES6的class继承

4. this的指向
  > 函数的四种调用模式: 方法调用, 函数调用, 构造函数调用, call和apply, 箭头函数

2. 谈谈vue的优化
  - v-if 和 v-show：权限控制用 v-if, 频繁切换使用 v-show
  - 列表显示绑定的key：用index只是防止报错，对性能好的话应该用id
  - 不建议加scoped：不利于性能，且UI框架的样式会被抹掉
  - 项目复杂一定要用vuex，便于状态的管理
  - 使用loadsh
  - 组件划分应有明确含义

3. webpack的优化
  - 配置vendor，抽离公共的插件或不需要修改的代码
  - 模块热更新
  - 减少没必要的依赖
  - 项目模块引入
  - 利用缓存（每个loader缓存，`UglifyJsPlugin`缓存）
  - 分离css
  - 给打包后的文件加上hash值
  - `webpack-parallel-uglify-plugin` 可优化打包速度

4. npm包的发布
  - npm init => 一大堆描述填写 => 新建index.js，即入口 => 入口文件引入自己的包 => npm登陆 => npm public

5. 前端路由原理
   - H5的API `history.pushState 和 history.replaceState`
   - 参数：状态对象（state object），标题（title），地址（URL）
   - 使用：`window.history.pushState(null, null, "https://www.baidu.com/?name=orange")`

6. http和https的区别
  - https证书需要买
  - https使用SSL协议，传输的时候有加密，更安全，http则是明文
  - http更快，https耗电
  - https下不能使用http的资源和异步请求
  - 搜索引擎对https的权重更高
  - https绑定IP，一个IP职能有一个https域名
  - http端口80，https端口443

7. https加密过程, 怎么抓取https
  - 加密过程
    - 服务端用公钥登陆数字证书机构
    - 数字证书机构生成公钥证书和数字签名
    - 客户端向证书机构验证签名
    - 签名通过后用公钥进行报文加密
    - 服务端收到加密报文后用私钥解密得到报文

8. http2.0
  - websocket，消息推送
  - 采用二进制
  - 多路复用
  - 报文压缩

9. nodejs原理
  - Node.js的单线程并不是真正的单线程，只是开启了单个线程进行业务处理（cpu的运算），同时开启了其他线程专门处理I/O。
  - 当一个指令到达主线程，主线程发现有I/O之后，直接把这个事件传给I/O线程，不会等待I/O结束后，再去处理下面的业务，而是拿到一个状态后立即往下走，这就是“单线程”、“异步I/O”。 
  - I/O操作完之后呢？Node.js的I/O 处理完之后会有一个回调事件，这个事件会放在一个事件处理队列里头，
  - 在进程启动时node会创建一个类似于While(true)的循环，它的每一次轮询都会去查看是否有事件需要处理，是否有事件关联的回调函数需要处理，如果有就处理，然后加入下一个轮询，
  - 如果没有就退出进程，这就是所谓的“事件驱动”。这也从Node的角度解释了什么是”事件驱动”。 
  - 在node.js中，事件主要来源于网络请求，文件I/O等，根据事件的不同对观察者进行了分类，有文件I/O观察者，网络I/O观察者。
  - 事件驱动是一个典型的生产者/消费者模型，请求到达观察者那里，事件循环从观察者进行消费，主线程就可以马不停蹄的只关注业务不用再去进行I/O等待

10. I/O线程是怎样的
  - 异步IO是指操作系统提供的IO（数据进出）的能力，比如键盘输入，对应到显示器上会有专门的数据输出接口，这就是我们生活中可见的IO能力
  - 这个接口在向下会进入到操作系统这个层面，在操作系统中，会提供诸多的能力，比如：磁盘的读写，DNS的查询，数据库的连接啊，网络请求的处理，等等

11. 用es5实现promise

12. 用promise实现async await

17. node中间件
  - 就是在收到请求后和发送响应之前这个阶段执行的一些函数
  - 在处理完成后需要执行 next() 才能正确返回

18. 事件循环队列 event-loop
  - 进入 timers 阶段
  - 进入IO callbacks阶段
  - 进入 idle，prepare 阶段
  - 进入 poll 阶段
  - 进入 check 阶段
  - 进入 closing 阶段

19. react服务端渲染
  - 先将index.js里的公共的app提取出来(注意)
  - 再配置css-modules-require-hook来加载css
  - 配置asset-require-hook来引入图片
  - 将index.js的骨架部分和redux的部分都放到中间件里面, 并配置好组件
  - 中间件通过renderToString返回到前端

20. 缓存问题是什么
  - 客户端缓存
  - 服务端缓存

21. 304表示什么
  - 服务器可以设置缓存机制，这个功能是为了提高网站的访问速度
  - 当你发出一个GET请求的时候服务器会从缓存中调用你要访问的内容，这个时候服务器就可以判断这个页面是不是更新过了
  - 如果未更新过那么他会给你返回一个304状态码
  
22. 内存泄漏是什么，怎么定位到哪个文件的哪一行
  - 内存泄漏：js里一般是变量一直处于引用状态，造成垃圾回收无法回收
  - 可能的远因：闭包，循环，控制台输出
  - 定位：借助工具，查看内存

23. CSRF怎么对一个淘宝首页进行CSRF
  - CSRF：跨站请求伪造
  - 对其进行抓包，获取其请求方式和参数，伪造请求去请求数据
  
24. mysql一个表中有id字段和那么字段，怎么获取name重复的数据
  - `Select * From 表 Where 重复字段 In (Select 重复字段 From 表 Group By 重复字段 Having Count(*)>1)`

25. h5页面嵌在app中怎么调用app的方法
  - `H5页面 —>发起Url Redirect(Url上携带带有动作语义的参数)->Native App->拦截Url Redirect->解析动作语义参数->调用相关Native代码`

26. http2的新特性，扩展http1怎么实现多路复用
  - 新特性：多路复用，二进制，websocket，报文压缩
  - 多路复用：允许单一的http2请求发送多重请求（在同一个tcp内）
  - TCP连接相当于两根管道（一个用于服务器到客户端，一个用于客户端到服务器），管道里面数据传输是通过字节码传输，传输是有序的，每个字节都是一个一个来传输
  - [解释](https://segmentfault.com/q/1010000005167289)
  - 1.x 的数据流顺序和完整性是直接基于 TCP 的
  - 2 的数据流是在 TCP 的里面又加了一层 mux 的结构 Stream，一条 TCP 连接可以同时传输多个 Stream
  - 扩展http1: 只能通过开启多个tcp通道
